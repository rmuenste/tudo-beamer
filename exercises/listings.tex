\usepackage{listings}
  \lstset{language=Matlab,
          frame=trbl,
          frameround=tttt,
          basicstyle=\ttfamily,
          breaklines=true,
          escapeinside={"}{"}, % leave listing environment
          showstringspaces=true,
          stringstyle=\RedViolet,
          upquote=true, % to print ' correctly, requires the package textcomp
          columns=flexible, % remove phantom spaces appearing when copying from pdf but destroys fixedwidth :'(
          commentstyle=\OliveGreen\slshape,
          deletekeywords={home, dir},
          keywordstyle=\Blue\bfseries,
          morekeywords={and, blkdiag, case, cat, catch, cd, cell, cell2mat, cell2struct, celldisp, cellplot, char, class, classdef, commandwindow, commandhistory, continue, delete, doc, double, edit, eq, ezplot, factorial, false, fieldnames, filebrowser, fplot, func2str, function_handle, ge, getfield, gcf, givens, int64, isa, iscell, isequal, isfield, islogical, isstruct, isvector, le, logical, ls, mat2cell, methods, mkdir, mldivide, movefile, mrdivide, mtimes, ne, not, num2cell, off, on, ones, or, orderfields, otherwise, parfor, properties, quad, quad2d, repmat, rmdir, rmfield, setfield, single, sortrows, spmd, struct, str2func, struct2cell, switch, true, try, type}}
  \usepackage{textcomp}
